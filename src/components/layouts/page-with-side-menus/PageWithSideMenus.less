@import (reference) '../../../global';

.page__page-with-side-menus {
    @sectionMaxWidth: #px-to-rem(600) [];
    @sideMenusMaxWidth: #px-to-rem(288) [];

    @sectionGutterLarge: 1.5rem;
    @sectionGutterSmall: 0.75rem;
    @verticalMargin: 1.33rem;

    display: flex;
    flex-direction: column;
    margin: 0 auto;

    @media @mq-screen-tablet-and-desktop {
        flex-direction: row;
        margin-top: 3rem;
        max-width: #px-to-rem(1080) [];
    }

    .left-col,
    .right-col {
        width: 100%;
        max-width: @sectionMaxWidth;

        @media @mq-screen-tablet-and-desktop {
            width: @sideMenusMaxWidth;
            max-width: @sideMenusMaxWidth;
        }
    }

    .left-col {
        @media @mq-screen-tablet-and-desktop {
            margin-right: @sectionGutterSmall;

            .region__topPageContent {
                display: none;
            }
        }

        @media @mq-screen-desktop {
            margin-right: @sectionGutterLarge;
        }
    }

    .main-col {
        max-width: 100%;

        .region__topPageContent {
            display: none;

            @media @mq-screen-tablet-and-desktop {
                display: flex;
            }
        }
    }

    .right-col {
        @media @mq-screen-tablet-and-desktop {
            margin-left: @sectionGutterSmall;
        }

        @media @mq-screen-desktop-large {
            margin-left: @sectionGutterLarge;
        }
    }

    .region__pageContent,
    .region__topPageContent {
        display: flex;
        flex-direction: column;
        margin-top: @verticalMargin;

        & > * {
            width: 100%;
            max-width: @sectionMaxWidth;
            margin-bottom: @verticalMargin;
        }

        @media @mq-screen-tablet-and-desktop {
            margin-top: 0;

            // Ensure the first section is aligned with the menu if it has an icon
            &:first-child {
                .layout__section-with-header--with-icon:first-child {
                    margin-top: 0;
                }
            }
        }
    }

    .region__pageContent {
        & > :last-child {
            margin-bottom: 0;
        }
    }
}
