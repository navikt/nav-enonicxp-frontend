@import (reference) '../../../global';

.part-specific-mixins() {
    .part__product-card-mini {
        margin-top: 0.75rem;
    }
}

.layout__section-with-header {
    @iconContainerRadius: 2rem;
    @iconContainerSize: @iconContainerRadius * 2;

    @defaultBgColor: white;

    display: inline-flex;
    flex-direction: column;
    background-color: @defaultBgColor;
    margin-bottom: 2rem;

    @media @mq-screen-tablet {
        padding: @paddingTablet;
    }

    .section-padding-mixin();

    &--with-icon {
        margin-top: @iconContainerRadius;
    }

    .region__content,
    .region__intro {
        margin-top: 1.5rem;

        & > :not(:first-child) {
            margin-top: 2.25rem;
        }

        .part-specific-mixins();
    }

    .icon-container {
        .adjust-for-padding(@sectionPadding) {
            @marginActual: 1rem;
            top: calc(-@sectionPadding - @iconContainerRadius);
            margin-bottom: -@iconContainerRadius - (@sectionPadding -
                        @marginActual);
        }

        display: flex;
        justify-content: center;
        align-items: center;
        align-self: center;
        width: @iconContainerSize;
        height: @iconContainerSize;
        position: relative;
        border-radius: 50%;
        background-color: @defaultBgColor;
        overflow: hidden;

        .adjust-for-padding(@sectionPaddingDesktop);

        @media @mq-screen-tablet {
            .adjust-for-padding(@sectionPaddingTablet);
        }

        @media @mq-screen-mobile {
            .adjust-for-padding(@sectionPaddingMobile);
        }

        img {
            @iconSize: @iconContainerRadius / sqrt(@iconContainerRadius) * 2;

            height: #round-rem(@iconSize) [];
            width: #round-rem(@iconSize) [];
        }
    }
}
