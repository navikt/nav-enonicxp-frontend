@use 'common' as common;

.pageWithSideMenus {
    padding-top: var(--a-spacing-20);
    padding-bottom: var(--a-spacing-16);

    @media #{common.$mq-screen-mobile} {
        padding-top: var(--a-spacing-9);
    }

    :global(.region__intro) {
        margin-bottom: var(--a-spacing-9);
    }

    :global(.region__pageContent),
    :global(.region__topPageContent) {
        display: flex;
        flex-direction: column;
    }
}

.pullUp {
    padding-top: var(--a-spacing-3);
}

.mobileExpandableMenu {
    position: fixed;
    top: calc(var(--decorator-sticky-offset) + var(--a-spacing-4));
    right: 0;
    z-index: 10;

    border-top-left-radius: 28px; //TODO: fiks senere: ikke hardkod disse basert på høyden til knappen
    border-bottom-left-radius: 28px;

    opacity: 0;
    transition:
        opacity 200ms ease-out,
        transform 200ms ease-out;

    &.show {
        opacity: 1;
    }

    :global(.navds-expansioncard__title),
    :global(.navds-expansioncard__content) {
        margin-bottom: 0; //overstyr global-override-styles.scss
        // transform: translateY(-50px);
    }

    :global(.navds-expansioncard__content) {
        border: none;
        box-shadow: none;
    }

    :global(.navds-expansioncard__header-button) svg {
        transform: rotate(90deg);
    }
}

:global(.navds-expansioncard--open).mobileExpandableMenu {
    width: 80vw;

    :global(.navds-expansioncard__header-button) svg {
        transform: rotate(
            270deg
        ); //TODO senere: løs på en bedre måte, uansett skal kanskje chevronen forsvinne til fordel for en X for å lukke
    }

    .mobileExpandableMenuHeader {
        background-color: var(--a-white) !important;
        color: var(--a-text-default);
    }
}

.mobileExpandableMenuHeader {
    display: flex;
    align-items: center;

    background-color: var(--a-deepblue-800) !important;
    color: var(--a-white);
    border: none !important;
    padding: 8px 14px;
    border-top-left-radius: 100px;
    border-bottom-left-radius: 100px;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;

    h3 {
        font-size: 1.125rem;
    }
}

.mobileOverlay {
    position: fixed;
    inset: 0;
    z-index: 9;
    opacity: 0;
    // background: #aab0ba40;
    background-color: oklab(0.39631 -0.00264324 -0.0147871 / 0.5);
    transition: opacity 120ms ease;

    &.visible {
        opacity: 1;
    }
}

@media #{common.$mq-screen-desktop} {
    .pageWithSideMenus {
        display: grid;
        grid-template-columns:
            [content-start] minmax(0, min(42.5rem, 100%))
            [space-start] clamp(2.5rem, -6.5rem + 15vw, 8.5rem)
            [space-end] minmax(0, min(22.5rem, 30%))
            [content-end];
        padding-left: 8rem;
    }

    .mainContent {
        display: contents;
        > * {
            grid-column: content-start;
        }
    }

    .pageNavigationMenu {
        grid-column: space-end;
        grid-row: 2 / 6;
    }

    .mobileExpandableMenu {
        display: none;
    }

    .mobileOverlay {
        display: none;
    }
}
